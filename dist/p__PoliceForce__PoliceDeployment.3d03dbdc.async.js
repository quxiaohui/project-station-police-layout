(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[989],{74195:function(B){B.exports={policeDeployment:"policeDeployment___2Zzy-",conditions:"conditions___3rIVi",card:"card___1g9Kn",cardItem:"cardItem___1MQLZ",pagination:"pagination___2i8fU"}},29685:function(B,j,t){"use strict";t.r(j);var u=t(71194),c=t(50146),E=t(77883),p=t(49747),L=t(47673),y=t(29730),W=t(14781),g=t(23492),U=t(58024),O=t(91894),A=t(62350),M=t(24565),b=t(57663),Z=t(71577),m=t(43358),_=t(34041),P=t(11849),h=t(39428),d=t(34792),T=t(48086),F=t(3182),S=t(9715),n=t(903),r=t(2824),i=t(67294),v=t(74195),e=t.n(v),se=t(52473),I=t(65308),ue=t(7072),a=t(85893),le=function(){var oe=n.Z.useForm(),ie=(0,r.Z)(oe,1),R=ie[0],_e=(0,i.useState)(!1),G=(0,r.Z)(_e,2),ce=G[0],de=G[1],pe=(0,i.useState)(""),k=(0,r.Z)(pe,2),z=k[0],X=k[1],me=(0,i.useState)(!1),V=(0,r.Z)(me,2),he=V[0],w=V[1],fe=(0,i.useState)([]),Q=(0,r.Z)(fe,2),x=Q[0],Ee=Q[1],Pe=(0,i.useState)(0),H=(0,r.Z)(Pe,2),J=H[0],ve=H[1],De=(0,i.useState)({pageIndex:1,pageSize:10,floorId:""}),q=(0,r.Z)(De,2),C=q[0],ee=q[1],Ze=(0,i.useState)(),te=(0,r.Z)(Ze,2),$=te[0],ye=te[1],ge=(0,i.useState)(),re=(0,r.Z)(ge,2),ne=re[0],Oe=re[1],Me=(0,i.useState)(),ae=(0,r.Z)(Me,2),Te=ae[0],je=ae[1],Y=function(){w(!0),(0,I.fK)(C).then(function(s){var f,D;Ee(s==null||(f=s.data)===null||f===void 0?void 0:f.data),ve((D=s.data)===null||D===void 0?void 0:D.totalCount),w(!1)}).catch(function(s){w(!1)})},Ce=function(){(0,ue.yw)().then(function(s){var f=s==null?void 0:s.data.map(function(D){return{label:D.floorName,value:D.floorId}});Oe(f)})},Ie=function(){(0,I.kZ)().then(function(s){var f=s==null?void 0:s.data.map(function(D){return{label:D.name,value:D.typeId}});je(f)})},Be=function(){X("add"),R.resetFields(),K(!0)},Le=function(s){X("edit"),ye(s),R.setFieldsValue(s),K(!0)},We=function(){var o=(0,F.Z)((0,h.Z)().mark(function s(f){return(0,h.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,(0,I.He)({policePowerId:f});case 3:return N("\u5220\u9664"),l.abrupt("return",!0);case 7:return l.prev=7,l.t0=l.catch(0),T.ZP.error("\u5220\u9664\u5931\u8D25"),l.abrupt("return",!1);case 11:case"end":return l.stop()}},s,null,[[0,7]])}));return function(f){return o.apply(this,arguments)}}(),K=function(s){de(s),s&&Ie()},N=function(s){T.ZP.success("".concat(s,"\u6210\u529F")),Y(),K(!1)},Ue=function(){var o=(0,F.Z)((0,h.Z)().mark(function s(f){return(0,h.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(console.log(f,"==="),z!=="add"){l.next=15;break}return l.prev=2,l.next=5,(0,I.eA)((0,P.Z)({},f));case 5:return N("\u6DFB\u52A0"),l.abrupt("return",!0);case 9:return l.prev=9,l.t0=l.catch(2),T.ZP.error("\u6DFB\u52A0\u5931\u8D25"),l.abrupt("return",!1);case 13:l.next=26;break;case 15:return l.prev=15,l.next=18,(0,I.Li)((0,P.Z)((0,P.Z)({},f),{},{deploymentId:$==null?void 0:$.deploymentId}));case 18:return N("\u7F16\u8F91"),l.abrupt("return",!0);case 22:return l.prev=22,l.t1=l.catch(15),T.ZP.error("\u7F16\u8F91\u5931\u8D25"),l.abrupt("return",!1);case 26:case"end":return l.stop()}},s,null,[[2,9],[15,22]])}));return function(f){return o.apply(this,arguments)}}(),Ae=function(s,f){ee({pageIndex:s,pageSize:f,floorId:C==null?void 0:C.floorId})},be=function(s){ee({pageIndex:1,pageSize:10,floorId:s})};return(0,i.useEffect)(function(){Y(),Ce()},[]),(0,i.useEffect)(function(){Y()},[C]),(0,a.jsxs)(se.ZP,{children:[(0,a.jsxs)("div",{className:e().policeDeployment,children:[(0,a.jsxs)("div",{className:e().conditions,children:[(0,a.jsx)(_.Z,{allowClear:!0,placeholder:"\u8BF7\u9009\u62E9\u697C\u5C42",style:{width:"250px"},options:ne,onChange:function(s){return be(s)}}),(0,a.jsx)("div",{className:e().btns,children:(0,a.jsx)(Z.Z,{type:"primary",onClick:Be,children:"\u65B0\u589E"})})]}),(0,a.jsx)("div",{className:e().card,children:x==null?void 0:x.map(function(o){return(0,a.jsx)("div",{className:e().cardItem,children:(0,a.jsxs)(O.Z,{title:o==null?void 0:o.title,bordered:!1,loading:he,actions:[(0,a.jsx)("a",{onClick:function(){return Le(o)},children:"\u7F16\u8F91"},"list-loadmore-edit"),(0,a.jsx)(M.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u8B66\u529B\u90E8\u7F72?",onConfirm:function(){return We(o==null?void 0:o.deploymentId)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,a.jsx)("a",{children:"\u5220\u9664"})})],children:[(0,a.jsxs)("p",{children:["\u697C\u5C42\uFF1A",o.floorName]}),(0,a.jsxs)("p",{children:["\u8B66\u529B\u7C7B\u578B\uFF1A",o.typeName]}),(0,a.jsxs)("p",{children:["X\uFF1A",o.positionX]}),(0,a.jsxs)("p",{children:["Y\uFF1A",o.positionY]}),(0,a.jsxs)("p",{children:["Z\uFF1A",o.positionZ]})]})},o.deploymentId)})}),(0,a.jsx)("div",{className:e().pagination,children:(0,a.jsx)(g.Z,{total:J,showTotal:function(){return"\u5171".concat(J,"\u6761\u6570\u636E")},showQuickJumper:!0,showSizeChanger:!0,current:C.pageIndex,onChange:Ae})})]}),(0,a.jsx)(c.Z,{title:z==="add"?"\u65B0\u589E":"\u7F16\u8F91",open:ce,onCancel:function(){return K(!1)},footer:null,children:(0,a.jsxs)(n.Z,{form:R,labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:Ue,autoComplete:"off",children:[(0,a.jsx)(n.Z.Item,{label:"\u540D\u79F0",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,a.jsx)(y.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(n.Z.Item,{label:"\u697C\u5C42",name:"floorId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8B66\u529B\u697C\u5C42"}],children:(0,a.jsx)(_.Z,{style:{width:"100%"},options:ne})}),(0,a.jsx)(n.Z.Item,{label:"\u8B66\u529B\u7C7B\u578B",name:"typeId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8B66\u529B\u7C7B\u578B"}],children:(0,a.jsx)(_.Z,{style:{width:"100%"},options:Te})}),(0,a.jsx)(n.Z.Item,{label:"X",name:"positionX",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionX"}],children:(0,a.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(n.Z.Item,{label:"Y",name:"positionY",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionY"}],children:(0,a.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(n.Z.Item,{label:"Z",name:"positionZ",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionZ"}],children:(0,a.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(n.Z.Item,{wrapperCol:{offset:10,span:10},children:(0,a.jsx)(Z.Z,{type:"primary",htmlType:"submit",children:"\u786E\u8BA4"})})]})})]})};j.default=le},7072:function(B,j,t){"use strict";t.d(j,{m:function(){return L},qq:function(){return W},tz:function(){return U},O$:function(){return A},yw:function(){return b}});var u=t(39428),c=t(11849),E=t(3182),p=t(25377);function L(m,_){return y.apply(this,arguments)}function y(){return y=(0,E.Z)((0,u.Z)().mark(function m(_,P){return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"GET",params:(0,c.Z)({},_)},P||{})));case 1:case"end":return d.stop()}},m)})),y.apply(this,arguments)}function W(m,_){return g.apply(this,arguments)}function g(){return g=(0,E.Z)((0,u.Z)().mark(function m(_,P){return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"POST",data:_},P||{})));case 1:case"end":return d.stop()}},m)})),g.apply(this,arguments)}function U(m,_){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,u.Z)().mark(function m(_,P){return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"PUT",data:_},P||{})));case 1:case"end":return d.stop()}},m)})),O.apply(this,arguments)}function A(m,_){return M.apply(this,arguments)}function M(){return M=(0,E.Z)((0,u.Z)().mark(function m(_,P){return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(_),d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"DELETE",params:(0,c.Z)({},_)},P||{})));case 2:case"end":return d.stop()}},m)})),M.apply(this,arguments)}function b(m){return Z.apply(this,arguments)}function Z(){return Z=(0,E.Z)((0,u.Z)().mark(function m(_){return(0,u.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,p.WY)("/api/floors/selector",(0,c.Z)({method:"GET"},(_==null?void 0:_.data)||[])));case 1:case"end":return h.stop()}},m)})),Z.apply(this,arguments)}},65308:function(B,j,t){"use strict";t.d(j,{wh:function(){return L},bM:function(){return W},JQ:function(){return U},BT:function(){return A},fK:function(){return b},eA:function(){return m},Li:function(){return P},He:function(){return d},kZ:function(){return F}});var u=t(39428),c=t(11849),E=t(3182),p=t(25377);function L(n,r){return y.apply(this,arguments)}function y(){return y=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/PolicePowerTypes",(0,c.Z)({method:"GET",params:(0,c.Z)({},r)},i||{})));case 1:case"end":return e.stop()}},n)})),y.apply(this,arguments)}function W(n,r){return g.apply(this,arguments)}function g(){return g=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/PolicePowerTypes",(0,c.Z)({method:"POST",data:r},i||{})));case 1:case"end":return e.stop()}},n)})),g.apply(this,arguments)}function U(n,r){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/PolicePowerTypes",(0,c.Z)({method:"PUT",data:r},i||{})));case 1:case"end":return e.stop()}},n)})),O.apply(this,arguments)}function A(n,r){return M.apply(this,arguments)}function M(){return M=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.abrupt("return",(0,p.WY)("/api/PolicePowerTypes",(0,c.Z)({method:"DELETE",params:(0,c.Z)({},r)},i||{})));case 2:case"end":return e.stop()}},n)})),M.apply(this,arguments)}function b(n,r){return Z.apply(this,arguments)}function Z(){return Z=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/policePowerDeployments",(0,c.Z)({method:"GET",params:(0,c.Z)({},r)},i||{})));case 1:case"end":return e.stop()}},n)})),Z.apply(this,arguments)}function m(n,r){return _.apply(this,arguments)}function _(){return _=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/policePowerDeployments",(0,c.Z)({method:"POST",data:r},i||{})));case 1:case"end":return e.stop()}},n)})),_.apply(this,arguments)}function P(n,r){return h.apply(this,arguments)}function h(){return h=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/policePowerDeployments",(0,c.Z)({method:"PUT",data:r},i||{})));case 1:case"end":return e.stop()}},n)})),h.apply(this,arguments)}function d(n,r){return T.apply(this,arguments)}function T(){return T=(0,E.Z)((0,u.Z)().mark(function n(r,i){return(0,u.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.abrupt("return",(0,p.WY)("/api/policePowerDeployments",(0,c.Z)({method:"DELETE",params:(0,c.Z)({},r)},i||{})));case 2:case"end":return e.stop()}},n)})),T.apply(this,arguments)}function F(n){return S.apply(this,arguments)}function S(){return S=(0,E.Z)((0,u.Z)().mark(function n(r){return(0,u.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,p.WY)("/api/policePowerTypes/selector",(0,c.Z)({method:"GET"},(r==null?void 0:r.data)||[])));case 1:case"end":return v.stop()}},n)})),S.apply(this,arguments)}}}]);
