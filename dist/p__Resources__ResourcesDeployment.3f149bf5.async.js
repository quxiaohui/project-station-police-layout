(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[560],{39648:function(S){S.exports={resourceDeployment:"resourceDeployment___RcxEH",conditions:"conditions___3w192",card:"card___3opHu",cardItem:"cardItem___UH6hN",pagination:"pagination___2Q38h"}},19193:function(S,M,e){"use strict";e.r(M);var l=e(71194),c=e(50146),v=e(77883),m=e(49747),E=e(47673),B=e(29730),g=e(14781),U=e(23492),O=e(58024),W=e(91894),j=e(62350),b=e(24565),T=e(57663),R=e(71577),C=e(43358),d=e(34041),i=e(11849),D=e(39428),Z=e(34792),_=e(48086),I=e(3182),G=e(9715),y=e(903),n=e(2824),r=e(67294),h=e(39648),p=e.n(h),t=e(52473),A=e(68202),ue=e(7072),s=e(85893),oe=function(){var le=y.Z.useForm(),_e=(0,n.Z)(le,1),x=_e[0],ie=(0,r.useState)(!1),X=(0,n.Z)(ie,2),ce=X[0],de=X[1],pe=(0,r.useState)(""),z=(0,n.Z)(pe,2),k=z[0],H=z[1],me=(0,r.useState)(!1),V=(0,n.Z)(me,2),he=V[0],K=V[1],fe=(0,r.useState)([]),Q=(0,n.Z)(fe,2),w=Q[0],Ee=Q[1],ve=(0,r.useState)(0),J=(0,n.Z)(ve,2),q=J[0],De=J[1],Ze=(0,r.useState)({pageIndex:1,pageSize:10,floorId:""}),ee=(0,n.Z)(Ze,2),L=ee[0],re=ee[1],ye=(0,r.useState)(),te=(0,n.Z)(ye,2),$=te[0],Pe=te[1],ge=(0,r.useState)(),ne=(0,n.Z)(ge,2),se=ne[0],Oe=ne[1],je=(0,r.useState)(),ae=(0,n.Z)(je,2),Te=ae[0],Ce=ae[1],Y=function(){K(!0),(0,A.o$)(L).then(function(a){var f,P;Ee(a==null||(f=a.data)===null||f===void 0?void 0:f.data),De((P=a.data)===null||P===void 0?void 0:P.totalCount),K(!1)}).catch(function(a){K(!1)})},Me=function(){(0,ue.yw)().then(function(a){var f=a==null?void 0:a.data.map(function(P){return{label:P.floorName,value:P.floorId}});Oe(f)})},Re=function(){(0,A.sw)().then(function(a){var f=a==null?void 0:a.data.map(function(P){return{label:P.name,value:P.typeId}});Ce(f)})},Ie=function(){H("add"),x.resetFields(),F(!0)},Le=function(a){H("edit"),Pe(a),x.setFieldsValue(a),F(!0)},Be=function(){var o=(0,I.Z)((0,D.Z)().mark(function a(f){return(0,D.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,A.vt)({resourceId:f});case 3:return N("\u5220\u9664"),u.abrupt("return",!0);case 7:return u.prev=7,u.t0=u.catch(0),_.ZP.error("\u5220\u9664\u5931\u8D25"),u.abrupt("return",!1);case 11:case"end":return u.stop()}},a,null,[[0,7]])}));return function(f){return o.apply(this,arguments)}}(),F=function(a){de(a),a&&Re()},N=function(a){_.ZP.success("".concat(a,"\u6210\u529F")),Y(),F(!1)},Ue=function(){var o=(0,I.Z)((0,D.Z)().mark(function a(f){return(0,D.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(console.log(f,"==="),k!=="add"){u.next=15;break}return u.prev=2,u.next=5,(0,A.X8)((0,i.Z)({},f));case 5:return N("\u6DFB\u52A0"),u.abrupt("return",!0);case 9:return u.prev=9,u.t0=u.catch(2),_.ZP.error("\u6DFB\u52A0\u5931\u8D25"),u.abrupt("return",!1);case 13:u.next=26;break;case 15:return u.prev=15,u.next=18,(0,A.X8)((0,i.Z)((0,i.Z)({},f),{},{deploymentId:$==null?void 0:$.deploymentId}));case 18:return N("\u7F16\u8F91"),u.abrupt("return",!0);case 22:return u.prev=22,u.t1=u.catch(15),_.ZP.error("\u7F16\u8F91\u5931\u8D25"),u.abrupt("return",!1);case 26:case"end":return u.stop()}},a,null,[[2,9],[15,22]])}));return function(f){return o.apply(this,arguments)}}(),We=function(a,f){re({pageIndex:a,pageSize:f,floorId:L==null?void 0:L.floorId})},be=function(a){re({pageIndex:1,pageSize:10,floorId:a})};return(0,r.useEffect)(function(){Y(),Me()},[]),(0,r.useEffect)(function(){Y()},[L]),(0,s.jsxs)(t.ZP,{children:[(0,s.jsxs)("div",{className:p().resourceDeployment,children:[(0,s.jsxs)("div",{className:p().conditions,children:[(0,s.jsx)(d.Z,{allowClear:!0,placeholder:"\u8BF7\u9009\u62E9\u697C\u5C42",style:{width:"250px"},options:se,onChange:function(a){return be(a)}}),(0,s.jsx)("div",{className:p().btns,children:(0,s.jsx)(R.Z,{type:"primary",onClick:Ie,children:"\u65B0\u589E"})})]}),(0,s.jsx)("div",{className:p().card,children:w==null?void 0:w.map(function(o){return(0,s.jsx)("div",{className:p().cardItem,children:(0,s.jsxs)(W.Z,{title:o==null?void 0:o.title,bordered:!1,loading:he,actions:[(0,s.jsx)("a",{onClick:function(){return Le(o)},children:"\u7F16\u8F91"},"list-loadmore-edit"),(0,s.jsx)(b.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u8D44\u6E90\u90E8\u7F72?",onConfirm:function(){return Be(o==null?void 0:o.deploymentId)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,s.jsx)("a",{children:"\u5220\u9664"})})],children:[(0,s.jsxs)("p",{children:["\u697C\u5C42\uFF1A",o.floorName]}),(0,s.jsxs)("p",{children:["\u8D44\u6E90\u7C7B\u578B\uFF1A",o.typeName]}),(0,s.jsxs)("p",{children:["X\uFF1A",o.positionX]}),(0,s.jsxs)("p",{children:["Y\uFF1A",o.positionY]}),(0,s.jsxs)("p",{children:["Z\uFF1A",o.positionZ]})]})},o.deploymentId)})}),(0,s.jsx)("div",{className:p().pagination,children:(0,s.jsx)(U.Z,{total:q,showTotal:function(){return"\u5171".concat(q,"\u6761\u6570\u636E")},showQuickJumper:!0,showSizeChanger:!0,current:L.pageIndex,onChange:We})})]}),(0,s.jsx)(c.Z,{title:k==="add"?"\u65B0\u589E":"\u7F16\u8F91",open:ce,onCancel:function(){return F(!1)},footer:null,children:(0,s.jsxs)(y.Z,{form:x,labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:Ue,autoComplete:"off",children:[(0,s.jsx)(y.Z.Item,{label:"\u540D\u79F0",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,s.jsx)(B.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(y.Z.Item,{label:"\u697C\u5C42",name:"floorId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u697C\u5C42"}],children:(0,s.jsx)(d.Z,{style:{width:"100%"},options:se})}),(0,s.jsx)(y.Z.Item,{label:"\u8D44\u6E90\u7C7B\u578B",name:"typeId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8D44\u6E90\u7C7B\u578B"}],children:(0,s.jsx)(d.Z,{style:{width:"100%"},options:Te})}),(0,s.jsx)(y.Z.Item,{label:"X",name:"positionX",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionX"}],children:(0,s.jsx)(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(y.Z.Item,{label:"Y",name:"positionY",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionY"}],children:(0,s.jsx)(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(y.Z.Item,{label:"Z",name:"positionZ",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionZ"}],children:(0,s.jsx)(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(y.Z.Item,{wrapperCol:{offset:10,span:10},children:(0,s.jsx)(R.Z,{type:"primary",htmlType:"submit",children:"\u786E\u8BA4"})})]})})]})};M.default=oe},7072:function(S,M,e){"use strict";e.d(M,{m:function(){return B},qq:function(){return U},tz:function(){return W},O$:function(){return b},yw:function(){return R}});var l=e(39428),c=e(11849),v=e(3182),m=e(25377),E="/pdapi";function B(d,i){return g.apply(this,arguments)}function g(){return g=(0,v.Z)((0,l.Z)().mark(function d(i,D){return(0,l.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,m.WY)("".concat(E,"/floors"),(0,c.Z)({method:"GET",params:(0,c.Z)({},i)},D||{})));case 1:case"end":return _.stop()}},d)})),g.apply(this,arguments)}function U(d,i){return O.apply(this,arguments)}function O(){return O=(0,v.Z)((0,l.Z)().mark(function d(i,D){return(0,l.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,m.WY)("".concat(E,"/floors"),(0,c.Z)({method:"POST",data:i},D||{})));case 1:case"end":return _.stop()}},d)})),O.apply(this,arguments)}function W(d,i){return j.apply(this,arguments)}function j(){return j=(0,v.Z)((0,l.Z)().mark(function d(i,D){return(0,l.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,m.WY)("".concat(E,"/floors"),(0,c.Z)({method:"PUT",data:i},D||{})));case 1:case"end":return _.stop()}},d)})),j.apply(this,arguments)}function b(d,i){return T.apply(this,arguments)}function T(){return T=(0,v.Z)((0,l.Z)().mark(function d(i,D){return(0,l.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return console.log(i),_.abrupt("return",(0,m.WY)("".concat(E,"/floors"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},i)},D||{})));case 2:case"end":return _.stop()}},d)})),T.apply(this,arguments)}function R(d){return C.apply(this,arguments)}function C(){return C=(0,v.Z)((0,l.Z)().mark(function d(i){return(0,l.Z)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,m.WY)("".concat(E,"/floors/selector"),(0,c.Z)({method:"GET"},(i==null?void 0:i.data)||[])));case 1:case"end":return Z.stop()}},d)})),C.apply(this,arguments)}},68202:function(S,M,e){"use strict";e.d(M,{vE:function(){return B},El:function(){return U},cP:function(){return W},fC:function(){return b},o$:function(){return R},X8:function(){return d},vt:function(){return _},sw:function(){return G}});var l=e(39428),c=e(11849),v=e(3182),m=e(25377),E="/pdapi";function B(n,r){return g.apply(this,arguments)}function g(){return g=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("".concat(E,"/resourceTypes"),(0,c.Z)({method:"GET",params:(0,c.Z)({},r)},h||{})));case 1:case"end":return t.stop()}},n)})),g.apply(this,arguments)}function U(n,r){return O.apply(this,arguments)}function O(){return O=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("".concat(E,"/resourceTypes"),(0,c.Z)({method:"POST",data:r},h||{})));case 1:case"end":return t.stop()}},n)})),O.apply(this,arguments)}function W(n,r){return j.apply(this,arguments)}function j(){return j=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("".concat(E,"/resourceTypes"),(0,c.Z)({method:"PUT",data:r},h||{})));case 1:case"end":return t.stop()}},n)})),j.apply(this,arguments)}function b(n,r){return T.apply(this,arguments)}function T(){return T=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),t.abrupt("return",(0,m.WY)("".concat(E,"/resourceTypes"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},r)},h||{})));case 2:case"end":return t.stop()}},n)})),T.apply(this,arguments)}function R(n,r){return C.apply(this,arguments)}function C(){return C=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("".concat(E,"/resourceDeployments"),(0,c.Z)({method:"GET",params:(0,c.Z)({},r)},h||{})));case 1:case"end":return t.stop()}},n)})),C.apply(this,arguments)}function d(n,r){return i.apply(this,arguments)}function i(){return i=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.WY)("".concat(E,"/resourceDeployments"),(0,c.Z)({method:"POST",data:r},h||{})));case 1:case"end":return t.stop()}},n)})),i.apply(this,arguments)}function D(n,r){return Z.apply(this,arguments)}function Z(){return Z=_asyncToGenerator(_regeneratorRuntime().mark(function n(r,h){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",request("".concat(E,"/resourceDeployments"),_objectSpread({method:"PUT",data:r},h||{})));case 1:case"end":return t.stop()}},n)})),Z.apply(this,arguments)}function _(n,r){return I.apply(this,arguments)}function I(){return I=(0,v.Z)((0,l.Z)().mark(function n(r,h){return(0,l.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(r),t.abrupt("return",(0,m.WY)("".concat(E,"/resourceDeployments"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},r)},h||{})));case 2:case"end":return t.stop()}},n)})),I.apply(this,arguments)}function G(n){return y.apply(this,arguments)}function y(){return y=(0,v.Z)((0,l.Z)().mark(function n(r){return(0,l.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,m.WY)("".concat(E,"/resourceTypes/selector"),(0,c.Z)({method:"GET"},(r==null?void 0:r.data)||[])));case 1:case"end":return p.stop()}},n)})),y.apply(this,arguments)}}}]);
