(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[560],{39648:function(I){I.exports={resourceDeployment:"resourceDeployment___RcxEH",conditions:"conditions___3w192",card:"card___3opHu",cardItem:"cardItem___UH6hN",pagination:"pagination___2Q38h"}},19193:function(I,C,r){"use strict";r.r(C);var l=r(71194),c=r(50146),E=r(77883),p=r(49747),L=r(47673),P=r(29730),B=r(14781),g=r(23492),U=r(58024),O=r(91894),W=r(62350),j=r(24565),b=r(57663),y=r(71577),m=r(43358),i=r(34041),D=r(11849),h=r(39428),d=r(34792),T=r(48086),A=r(3182),S=r(9715),n=r(903),t=r(2824),_=r(67294),v=r(39648),e=r.n(v),ae=r(52473),R=r(68202),ue=r(7072),s=r(85893),oe=function(){var le=n.Z.useForm(),_e=(0,t.Z)(le,1),K=_e[0],ie=(0,_.useState)(!1),G=(0,t.Z)(ie,2),ce=G[0],de=G[1],pe=(0,_.useState)(""),X=(0,t.Z)(pe,2),z=X[0],k=X[1],me=(0,_.useState)(!1),H=(0,t.Z)(me,2),he=H[0],x=H[1],fe=(0,_.useState)([]),V=(0,t.Z)(fe,2),w=V[0],Ee=V[1],ve=(0,_.useState)(0),Q=(0,t.Z)(ve,2),J=Q[0],De=Q[1],Ze=(0,_.useState)({pageIndex:1,pageSize:10,floorId:""}),q=(0,t.Z)(Ze,2),M=q[0],ee=q[1],ye=(0,_.useState)(),re=(0,t.Z)(ye,2),$=re[0],Pe=re[1],ge=(0,_.useState)(),te=(0,t.Z)(ge,2),ne=te[0],Oe=te[1],je=(0,_.useState)(),se=(0,t.Z)(je,2),Te=se[0],Ce=se[1],Y=function(){x(!0),(0,R.o$)(M).then(function(a){var f,Z;Ee(a==null||(f=a.data)===null||f===void 0?void 0:f.data),De((Z=a.data)===null||Z===void 0?void 0:Z.totalCount),x(!1)}).catch(function(a){x(!1)})},Me=function(){(0,ue.yw)().then(function(a){var f=a==null?void 0:a.data.map(function(Z){return{label:Z.floorName,value:Z.floorId}});Oe(f)})},Re=function(){(0,R.sw)().then(function(a){var f=a==null?void 0:a.data.map(function(Z){return{label:Z.name,value:Z.typeId}});Ce(f)})},Ie=function(){k("add"),K.resetFields(),F(!0)},Le=function(a){k("edit"),Pe(a),K.setFieldsValue(a),F(!0)},Be=function(){var o=(0,A.Z)((0,h.Z)().mark(function a(f){return(0,h.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,R.vt)({resourceId:f});case 3:return N("\u5220\u9664"),u.abrupt("return",!0);case 7:return u.prev=7,u.t0=u.catch(0),T.ZP.error("\u5220\u9664\u5931\u8D25"),u.abrupt("return",!1);case 11:case"end":return u.stop()}},a,null,[[0,7]])}));return function(f){return o.apply(this,arguments)}}(),F=function(a){de(a),a&&Re()},N=function(a){T.ZP.success("".concat(a,"\u6210\u529F")),Y(),F(!1)},Ue=function(){var o=(0,A.Z)((0,h.Z)().mark(function a(f){return(0,h.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(console.log(f,"==="),z!=="add"){u.next=15;break}return u.prev=2,u.next=5,(0,R.X8)((0,D.Z)({},f));case 5:return N("\u6DFB\u52A0"),u.abrupt("return",!0);case 9:return u.prev=9,u.t0=u.catch(2),T.ZP.error("\u6DFB\u52A0\u5931\u8D25"),u.abrupt("return",!1);case 13:u.next=26;break;case 15:return u.prev=15,u.next=18,(0,R.X8)((0,D.Z)((0,D.Z)({},f),{},{deploymentId:$==null?void 0:$.deploymentId}));case 18:return N("\u7F16\u8F91"),u.abrupt("return",!0);case 22:return u.prev=22,u.t1=u.catch(15),T.ZP.error("\u7F16\u8F91\u5931\u8D25"),u.abrupt("return",!1);case 26:case"end":return u.stop()}},a,null,[[2,9],[15,22]])}));return function(f){return o.apply(this,arguments)}}(),We=function(a,f){ee({pageIndex:a,pageSize:f,floorId:M==null?void 0:M.floorId})},be=function(a){ee({pageIndex:1,pageSize:10,floorId:a})};return(0,_.useEffect)(function(){Y(),Me()},[]),(0,_.useEffect)(function(){Y()},[M]),(0,s.jsxs)(ae.ZP,{children:[(0,s.jsxs)("div",{className:e().resourceDeployment,children:[(0,s.jsxs)("div",{className:e().conditions,children:[(0,s.jsx)(i.Z,{allowClear:!0,placeholder:"\u8BF7\u9009\u62E9\u697C\u5C42",style:{width:"250px"},options:ne,onChange:function(a){return be(a)}}),(0,s.jsx)("div",{className:e().btns,children:(0,s.jsx)(y.Z,{type:"primary",onClick:Ie,children:"\u65B0\u589E"})})]}),(0,s.jsx)("div",{className:e().card,children:w==null?void 0:w.map(function(o){return(0,s.jsx)("div",{className:e().cardItem,children:(0,s.jsxs)(O.Z,{title:o==null?void 0:o.title,bordered:!1,loading:he,actions:[(0,s.jsx)("a",{onClick:function(){return Le(o)},children:"\u7F16\u8F91"},"list-loadmore-edit"),(0,s.jsx)(j.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u8D44\u6E90\u90E8\u7F72?",onConfirm:function(){return Be(o==null?void 0:o.deploymentId)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,s.jsx)("a",{children:"\u5220\u9664"})})],children:[(0,s.jsxs)("p",{children:["\u697C\u5C42\uFF1A",o.floorName]}),(0,s.jsxs)("p",{children:["\u8D44\u6E90\u7C7B\u578B\uFF1A",o.typeName]}),(0,s.jsxs)("p",{children:["X\uFF1A",o.positionX]}),(0,s.jsxs)("p",{children:["Y\uFF1A",o.positionY]}),(0,s.jsxs)("p",{children:["Z\uFF1A",o.positionZ]})]})},o.deploymentId)})}),(0,s.jsx)("div",{className:e().pagination,children:(0,s.jsx)(g.Z,{total:J,showTotal:function(){return"\u5171".concat(J,"\u6761\u6570\u636E")},showQuickJumper:!0,showSizeChanger:!0,current:M.pageIndex,onChange:We})})]}),(0,s.jsx)(c.Z,{title:z==="add"?"\u65B0\u589E":"\u7F16\u8F91",open:ce,onCancel:function(){return F(!1)},footer:null,children:(0,s.jsxs)(n.Z,{form:K,labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:Ue,autoComplete:"off",children:[(0,s.jsx)(n.Z.Item,{label:"\u540D\u79F0",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,s.jsx)(P.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(n.Z.Item,{label:"\u697C\u5C42",name:"floorId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u697C\u5C42"}],children:(0,s.jsx)(i.Z,{style:{width:"100%"},options:ne})}),(0,s.jsx)(n.Z.Item,{label:"\u8D44\u6E90\u7C7B\u578B",name:"typeId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8D44\u6E90\u7C7B\u578B"}],children:(0,s.jsx)(i.Z,{style:{width:"100%"},options:Te})}),(0,s.jsx)(n.Z.Item,{label:"X",name:"positionX",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionX"}],children:(0,s.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(n.Z.Item,{label:"Y",name:"positionY",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionY"}],children:(0,s.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(n.Z.Item,{label:"Z",name:"positionZ",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionZ"}],children:(0,s.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(n.Z.Item,{wrapperCol:{offset:10,span:10},children:(0,s.jsx)(y.Z,{type:"primary",htmlType:"submit",children:"\u786E\u8BA4"})})]})})]})};C.default=oe},7072:function(I,C,r){"use strict";r.d(C,{m:function(){return L},qq:function(){return B},tz:function(){return U},O$:function(){return W},yw:function(){return b}});var l=r(39428),c=r(11849),E=r(3182),p=r(25377);function L(m,i){return P.apply(this,arguments)}function P(){return P=(0,E.Z)((0,l.Z)().mark(function m(i,D){return(0,l.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"GET",params:(0,c.Z)({},i)},D||{})));case 1:case"end":return d.stop()}},m)})),P.apply(this,arguments)}function B(m,i){return g.apply(this,arguments)}function g(){return g=(0,E.Z)((0,l.Z)().mark(function m(i,D){return(0,l.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"POST",data:i},D||{})));case 1:case"end":return d.stop()}},m)})),g.apply(this,arguments)}function U(m,i){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,l.Z)().mark(function m(i,D){return(0,l.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"PUT",data:i},D||{})));case 1:case"end":return d.stop()}},m)})),O.apply(this,arguments)}function W(m,i){return j.apply(this,arguments)}function j(){return j=(0,E.Z)((0,l.Z)().mark(function m(i,D){return(0,l.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return console.log(i),d.abrupt("return",(0,p.WY)("/api/floors",(0,c.Z)({method:"DELETE",params:(0,c.Z)({},i)},D||{})));case 2:case"end":return d.stop()}},m)})),j.apply(this,arguments)}function b(m){return y.apply(this,arguments)}function y(){return y=(0,E.Z)((0,l.Z)().mark(function m(i){return(0,l.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,p.WY)("/api/floors/selector",(0,c.Z)({method:"GET"},(i==null?void 0:i.data)||[])));case 1:case"end":return h.stop()}},m)})),y.apply(this,arguments)}},68202:function(I,C,r){"use strict";r.d(C,{vE:function(){return L},El:function(){return B},cP:function(){return U},fC:function(){return W},o$:function(){return b},X8:function(){return m},vt:function(){return d},sw:function(){return A}});var l=r(39428),c=r(11849),E=r(3182),p=r(25377);function L(n,t){return P.apply(this,arguments)}function P(){return P=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/resourceTypes",(0,c.Z)({method:"GET",params:(0,c.Z)({},t)},_||{})));case 1:case"end":return e.stop()}},n)})),P.apply(this,arguments)}function B(n,t){return g.apply(this,arguments)}function g(){return g=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/resourceTypes",(0,c.Z)({method:"POST",data:t},_||{})));case 1:case"end":return e.stop()}},n)})),g.apply(this,arguments)}function U(n,t){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/resourceTypes",(0,c.Z)({method:"PUT",data:t},_||{})));case 1:case"end":return e.stop()}},n)})),O.apply(this,arguments)}function W(n,t){return j.apply(this,arguments)}function j(){return j=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",(0,p.WY)("/api/resourceTypes",(0,c.Z)({method:"DELETE",params:(0,c.Z)({},t)},_||{})));case 2:case"end":return e.stop()}},n)})),j.apply(this,arguments)}function b(n,t){return y.apply(this,arguments)}function y(){return y=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/resourceDeployments",(0,c.Z)({method:"GET",params:(0,c.Z)({},t)},_||{})));case 1:case"end":return e.stop()}},n)})),y.apply(this,arguments)}function m(n,t){return i.apply(this,arguments)}function i(){return i=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.WY)("/api/resourceDeployments",(0,c.Z)({method:"POST",data:t},_||{})));case 1:case"end":return e.stop()}},n)})),i.apply(this,arguments)}function D(n,t){return h.apply(this,arguments)}function h(){return h=_asyncToGenerator(_regeneratorRuntime().mark(function n(t,_){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/resourceDeployments",_objectSpread({method:"PUT",data:t},_||{})));case 1:case"end":return e.stop()}},n)})),h.apply(this,arguments)}function d(n,t){return T.apply(this,arguments)}function T(){return T=(0,E.Z)((0,l.Z)().mark(function n(t,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.abrupt("return",(0,p.WY)("/api/resourceDeployments",(0,c.Z)({method:"DELETE",params:(0,c.Z)({},t)},_||{})));case 2:case"end":return e.stop()}},n)})),T.apply(this,arguments)}function A(n){return S.apply(this,arguments)}function S(){return S=(0,E.Z)((0,l.Z)().mark(function n(t){return(0,l.Z)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,p.WY)("/api/resourceTypes/selector",(0,c.Z)({method:"GET"},(t==null?void 0:t.data)||[])));case 1:case"end":return v.stop()}},n)})),S.apply(this,arguments)}}}]);
