(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[736],{80381:function(R){R.exports={policeType:"policeType___2hksu",list:"list___vjW2C",pagination:"pagination___3vcNf"}},35909:function(R,M,t){"use strict";t.r(M);var l=t(71194),c=t(50146),E=t(77883),m=t(49747),P=t(47673),K=t(29730),O=t(14781),S=t(23492),T=t(54421),y=t(38272),C=t(94233),b=t(51890),j=t(62350),x=t(24565),B=t(57663),I=t(71577),U=t(9715),D=t(903),p=t(2824),Z=t(11849),v=t(39428),L=t(3182),W=t(34792),n=t(48086),a=t(67294),_=t(80381),o=t.n(_),e=t(52473),A=t(65308),le=t(7085),_e=t(49101),oe=t(28465),s=t(85893),ie=function(h,g){var f=new FileReader;f.addEventListener("load",function(){return g(f.result)}),f.readAsDataURL(h)},ce=function(h){var g=h.type==="image/jpeg"||h.type==="image/png";g||n.ZP.error("You can only upload JPG/PNG file!");var f=h.size/1024/1024<2;return f||n.ZP.error("Image must smaller than 2MB!"),g&&f},pe=function(){var h=function(u){(0,A.wh)(u).then(function(i){Me(i.data.data),Te(i.data.totalCount),Y(!1)})},g=function(){var d=(0,L.Z)((0,v.Z)().mark(function u(i){return(0,v.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,A.BT)({policePowerId:i});case 3:return w("\u5220\u9664"),r.abrupt("return",!0);case 7:return r.prev=7,r.t0=r.catch(0),n.ZP.error("\u5220\u9664\u5931\u8D25"),r.abrupt("return",!1);case 11:case"end":return r.stop()}},u,null,[[0,7]])}));return function(i){return d.apply(this,arguments)}}(),f=function(){$(!1)},w=function(u){n.ZP.success("".concat(u,"\u6210\u529F")),h(ne),f()},de=function(){var d=(0,L.Z)((0,v.Z)().mark(function u(i){return(0,v.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(V!=="add"){r.next=14;break}return r.prev=1,r.next=4,(0,A.bM)((0,Z.Z)((0,Z.Z)({},i),{},{image:"yigedizhi"}));case 4:return w("\u6DFB\u52A0"),r.abrupt("return",!0);case 8:return r.prev=8,r.t0=r.catch(1),n.ZP.error("\u6DFB\u52A0\u5931\u8D25"),r.abrupt("return",!1);case 12:r.next=25;break;case 14:return r.prev=14,r.next=17,(0,A.JQ)((0,Z.Z)((0,Z.Z)({},i),{},{typeId:z==null?void 0:z.typeId}));case 17:return w("\u7F16\u8F91"),r.abrupt("return",!0);case 21:return r.prev=21,r.t1=r.catch(14),n.ZP.error("\u7F16\u8F91\u5931\u8D25"),r.abrupt("return",!1);case 25:case"end":return r.stop()}},u,null,[[1,8],[14,21]])}));return function(i){return d.apply(this,arguments)}}(),me=function(u){$(!0),H("edit"),Le(u),F.setFieldsValue(u)},Ee=function(u,i){je({pageIndex:u,pageSize:i}),h({pageIndex:u,pageSize:i})},Pe=D.Z.useForm(),he=(0,p.Z)(Pe,1),F=he[0],fe=(0,a.useState)(!1),J=(0,p.Z)(fe,2),De=J[0],$=J[1],ve=(0,a.useState)(""),Q=(0,p.Z)(ve,2),V=Q[0],H=Q[1],Ze=(0,a.useState)(!1),X=(0,p.Z)(Ze,2),k=X[0],Y=X[1],ge=(0,a.useState)([]),q=(0,p.Z)(ge,2),ye=q[0],Me=q[1],Oe=(0,a.useState)(0),ee=(0,p.Z)(Oe,2),te=ee[0],Te=ee[1],Ce=(0,a.useState)({pageIndex:1,pageSize:10}),ae=(0,p.Z)(Ce,2),ne=ae[0],je=ae[1],Be=(0,a.useState)(),re=(0,p.Z)(Be,2),se=re[0],Ie=re[1],Ue=(0,a.useState)(),ue=(0,p.Z)(Ue,2),z=ue[0],Le=ue[1],We=function(u){u.file.status==="uploading"&&Y(!0),u.file.status==="done"&&ie(u.file.originFileObj,function(i){console.log(i,"==="),Y(!1),Ie(i)})};(0,a.useEffect)(function(){h({pageIndex:1,pageSize:10})},[]);var Ae=(0,s.jsxs)("div",{children:[k?(0,s.jsx)(le.Z,{}):(0,s.jsx)(_e.Z,{}),(0,s.jsx)("div",{style:{marginTop:8},children:"Upload"})]});return(0,s.jsxs)(e.ZP,{children:[(0,s.jsxs)("div",{className:o().policeType,children:[(0,s.jsx)(I.Z,{type:"primary",onClick:function(){$(!0),H("add"),F.resetFields()},children:"\u65B0\u589E"}),(0,s.jsx)("div",{className:o().list,children:(0,s.jsx)(y.ZP,{itemLayout:"horizontal",dataSource:ye,loading:k,renderItem:function(u,i){return(0,s.jsx)(y.ZP.Item,{actions:[(0,s.jsx)("a",{onClick:function(){return me(u)},children:"\u7F16\u8F91"},"list-loadmore-edit"),(0,s.jsx)(x.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u8B66\u529B\u7C7B\u578B?",onConfirm:function(){return g(u==null?void 0:u.typeId)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,s.jsx)("a",{children:"\u5220\u9664"})})],children:(0,s.jsx)(y.ZP.Item.Meta,{avatar:(0,s.jsx)(b.C,{src:u.image}),title:(0,s.jsx)("a",{children:u.name}),description:""})})}})}),(0,s.jsx)("div",{className:o().pagination,children:(0,s.jsx)(S.Z,{total:te,showTotal:function(){return"\u5171".concat(te,"\u6761\u6570\u636E")},showQuickJumper:!0,showSizeChanger:!0,current:ne.pageIndex,onChange:Ee})})]}),(0,s.jsx)(c.Z,{title:V==="add"?"\u65B0\u589E":"\u7F16\u8F91",open:De,onCancel:f,footer:null,children:(0,s.jsxs)(D.Z,{form:F,labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:de,autoComplete:"off",children:[(0,s.jsx)(D.Z.Item,{label:"\u7C7B\u578B\u540D\u79F0",name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,s.jsx)(K.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(D.Z.Item,{label:"\u56FE\u7247",name:"image",children:(0,s.jsx)(oe.Z,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",beforeUpload:ce,onChange:We,children:se?(0,s.jsx)("img",{src:se,alt:"avatar",style:{width:"100%"}}):Ae})}),(0,s.jsx)(D.Z.Item,{label:"\u5E8F\u53F7",name:"sortNo",children:(0,s.jsx)(m.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(D.Z.Item,{wrapperCol:{offset:10,span:10},children:(0,s.jsx)(I.Z,{type:"primary",htmlType:"submit",children:"\u786E\u8BA4"})})]})})]})};M.default=pe},65308:function(R,M,t){"use strict";t.d(M,{wh:function(){return K},bM:function(){return S},JQ:function(){return y},BT:function(){return b},fK:function(){return x},eA:function(){return I},Li:function(){return D},He:function(){return Z},kZ:function(){return L}});var l=t(39428),c=t(11849),E=t(3182),m=t(25377),P="/pdapi";function K(n,a){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"GET",params:(0,c.Z)({},a)},_||{})));case 1:case"end":return e.stop()}},n)})),O.apply(this,arguments)}function S(n,a){return T.apply(this,arguments)}function T(){return T=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"POST",data:a},_||{})));case 1:case"end":return e.stop()}},n)})),T.apply(this,arguments)}function y(n,a){return C.apply(this,arguments)}function C(){return C=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"PUT",data:a},_||{})));case 1:case"end":return e.stop()}},n)})),C.apply(this,arguments)}function b(n,a){return j.apply(this,arguments)}function j(){return j=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",(0,m.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},a)},_||{})));case 2:case"end":return e.stop()}},n)})),j.apply(this,arguments)}function x(n,a){return B.apply(this,arguments)}function B(){return B=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"GET",params:(0,c.Z)({},a)},_||{})));case 1:case"end":return e.stop()}},n)})),B.apply(this,arguments)}function I(n,a){return U.apply(this,arguments)}function U(){return U=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"POST",data:a},_||{})));case 1:case"end":return e.stop()}},n)})),U.apply(this,arguments)}function D(n,a){return p.apply(this,arguments)}function p(){return p=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"PUT",data:a},_||{})));case 1:case"end":return e.stop()}},n)})),p.apply(this,arguments)}function Z(n,a){return v.apply(this,arguments)}function v(){return v=(0,E.Z)((0,l.Z)().mark(function n(a,_){return(0,l.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.abrupt("return",(0,m.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},a)},_||{})));case 2:case"end":return e.stop()}},n)})),v.apply(this,arguments)}function L(n){return W.apply(this,arguments)}function W(){return W=(0,E.Z)((0,l.Z)().mark(function n(a){return(0,l.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,m.WY)("".concat(P,"/policePowerTypes/selector"),(0,c.Z)({method:"GET"},(a==null?void 0:a.data)||[])));case 1:case"end":return o.stop()}},n)})),W.apply(this,arguments)}}}]);
