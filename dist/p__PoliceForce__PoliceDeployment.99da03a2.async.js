(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[989],{74195:function(S){S.exports={policeDeployment:"policeDeployment___2Zzy-",conditions:"conditions___3rIVi",card:"card___1g9Kn",cardItem:"cardItem___1MQLZ",pagination:"pagination___2i8fU"}},29685:function(S,C,e){"use strict";e.r(C);var u=e(71194),c=e(50146),E=e(77883),p=e(49747),P=e(47673),W=e(29730),g=e(14781),U=e(23492),O=e(58024),A=e(91894),M=e(62350),b=e(24565),T=e(57663),I=e(71577),j=e(43358),d=e(34041),i=e(11849),v=e(39428),D=e(34792),_=e(48086),B=e(3182),G=e(9715),Z=e(903),n=e(2824),t=e(67294),f=e(74195),m=e.n(f),r=e(52473),F=e(65308),ue=e(7072),a=e(85893),oe=function(){var le=Z.Z.useForm(),_e=(0,n.Z)(le,1),R=_e[0],ie=(0,t.useState)(!1),k=(0,n.Z)(ie,2),ce=k[0],de=k[1],pe=(0,t.useState)(""),z=(0,n.Z)(pe,2),X=z[0],V=z[1],me=(0,t.useState)(!1),Q=(0,n.Z)(me,2),fe=Q[0],x=Q[1],he=(0,t.useState)([]),H=(0,n.Z)(he,2),w=H[0],Ee=H[1],Pe=(0,t.useState)(0),J=(0,n.Z)(Pe,2),q=J[0],ve=J[1],De=(0,t.useState)({pageIndex:1,pageSize:10,floorId:""}),ee=(0,n.Z)(De,2),L=ee[0],te=ee[1],Ze=(0,t.useState)(),re=(0,n.Z)(Ze,2),$=re[0],ye=re[1],ge=(0,t.useState)(),ne=(0,n.Z)(ge,2),ae=ne[0],Oe=ne[1],Me=(0,t.useState)(),se=(0,n.Z)(Me,2),Te=se[0],je=se[1],Y=function(){x(!0),(0,F.fK)(L).then(function(s){var h,y;Ee(s==null||(h=s.data)===null||h===void 0?void 0:h.data),ve((y=s.data)===null||y===void 0?void 0:y.totalCount),x(!1)}).catch(function(s){x(!1)})},Ce=function(){(0,ue.yw)().then(function(s){var h=s==null?void 0:s.data.map(function(y){return{label:y.floorName,value:y.floorId}});Oe(h)})},Ie=function(){(0,F.kZ)().then(function(s){var h=s==null?void 0:s.data.map(function(y){return{label:y.name,value:y.typeId}});je(h)})},Be=function(){V("add"),R.resetFields(),K(!0)},Le=function(s){V("edit"),ye(s),R.setFieldsValue(s),K(!0)},We=function(){var l=(0,B.Z)((0,v.Z)().mark(function s(h){return(0,v.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,F.He)({policePowerId:h});case 3:return N("\u5220\u9664"),o.abrupt("return",!0);case 7:return o.prev=7,o.t0=o.catch(0),_.ZP.error("\u5220\u9664\u5931\u8D25"),o.abrupt("return",!1);case 11:case"end":return o.stop()}},s,null,[[0,7]])}));return function(h){return l.apply(this,arguments)}}(),K=function(s){de(s),s&&Ie()},N=function(s){_.ZP.success("".concat(s,"\u6210\u529F")),Y(),K(!1)},Ue=function(){var l=(0,B.Z)((0,v.Z)().mark(function s(h){return(0,v.Z)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log(h,"==="),X!=="add"){o.next=15;break}return o.prev=2,o.next=5,(0,F.eA)((0,i.Z)({},h));case 5:return N("\u6DFB\u52A0"),o.abrupt("return",!0);case 9:return o.prev=9,o.t0=o.catch(2),_.ZP.error("\u6DFB\u52A0\u5931\u8D25"),o.abrupt("return",!1);case 13:o.next=26;break;case 15:return o.prev=15,o.next=18,(0,F.Li)((0,i.Z)((0,i.Z)({},h),{},{deploymentId:$==null?void 0:$.deploymentId}));case 18:return N("\u7F16\u8F91"),o.abrupt("return",!0);case 22:return o.prev=22,o.t1=o.catch(15),_.ZP.error("\u7F16\u8F91\u5931\u8D25"),o.abrupt("return",!1);case 26:case"end":return o.stop()}},s,null,[[2,9],[15,22]])}));return function(h){return l.apply(this,arguments)}}(),Ae=function(s,h){te({pageIndex:s,pageSize:h,floorId:L==null?void 0:L.floorId})},be=function(s){te({pageIndex:1,pageSize:10,floorId:s})};return(0,t.useEffect)(function(){Y(),Ce()},[]),(0,t.useEffect)(function(){Y()},[L]),(0,a.jsxs)(r.ZP,{children:[(0,a.jsxs)("div",{className:m().policeDeployment,children:[(0,a.jsxs)("div",{className:m().conditions,children:[(0,a.jsx)(d.Z,{allowClear:!0,placeholder:"\u8BF7\u9009\u62E9\u697C\u5C42",style:{width:"250px"},options:ae,onChange:function(s){return be(s)}}),(0,a.jsx)("div",{className:m().btns,children:(0,a.jsx)(I.Z,{type:"primary",onClick:Be,children:"\u65B0\u589E"})})]}),(0,a.jsx)("div",{className:m().card,children:w==null?void 0:w.map(function(l){return(0,a.jsx)("div",{className:m().cardItem,children:(0,a.jsxs)(A.Z,{title:l==null?void 0:l.title,bordered:!1,loading:fe,actions:[(0,a.jsx)("a",{onClick:function(){return Le(l)},children:"\u7F16\u8F91"},"list-loadmore-edit"),(0,a.jsx)(b.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u8B66\u529B\u90E8\u7F72?",onConfirm:function(){return We(l==null?void 0:l.deploymentId)},okText:"\u786E\u8BA4",cancelText:"\u53D6\u6D88",children:(0,a.jsx)("a",{children:"\u5220\u9664"})})],children:[(0,a.jsxs)("p",{children:["\u697C\u5C42\uFF1A",l.floorName]}),(0,a.jsxs)("p",{children:["\u8B66\u529B\u7C7B\u578B\uFF1A",l.typeName]}),(0,a.jsxs)("p",{children:["X\uFF1A",l.positionX]}),(0,a.jsxs)("p",{children:["Y\uFF1A",l.positionY]}),(0,a.jsxs)("p",{children:["Z\uFF1A",l.positionZ]})]})},l.deploymentId)})}),(0,a.jsx)("div",{className:m().pagination,children:(0,a.jsx)(U.Z,{total:q,showTotal:function(){return"\u5171".concat(q,"\u6761\u6570\u636E")},showQuickJumper:!0,showSizeChanger:!0,current:L.pageIndex,onChange:Ae})})]}),(0,a.jsx)(c.Z,{title:X==="add"?"\u65B0\u589E":"\u7F16\u8F91",open:ce,onCancel:function(){return K(!1)},footer:null,children:(0,a.jsxs)(Z.Z,{form:R,labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:Ue,autoComplete:"off",children:[(0,a.jsx)(Z.Z.Item,{label:"\u540D\u79F0",name:"title",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0"}],children:(0,a.jsx)(W.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(Z.Z.Item,{label:"\u697C\u5C42",name:"floorId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8B66\u529B\u697C\u5C42"}],children:(0,a.jsx)(d.Z,{style:{width:"100%"},options:ae})}),(0,a.jsx)(Z.Z.Item,{label:"\u8B66\u529B\u7C7B\u578B",name:"typeId",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8B66\u529B\u7C7B\u578B"}],children:(0,a.jsx)(d.Z,{style:{width:"100%"},options:Te})}),(0,a.jsx)(Z.Z.Item,{label:"X",name:"positionX",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionX"}],children:(0,a.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(Z.Z.Item,{label:"Y",name:"positionY",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionY"}],children:(0,a.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(Z.Z.Item,{label:"Z",name:"positionZ",rules:[{required:!0,message:"\u8BF7\u8F93\u5165positionZ"}],children:(0,a.jsx)(p.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,a.jsx)(Z.Z.Item,{wrapperCol:{offset:10,span:10},children:(0,a.jsx)(I.Z,{type:"primary",htmlType:"submit",children:"\u786E\u8BA4"})})]})})]})};C.default=oe},7072:function(S,C,e){"use strict";e.d(C,{m:function(){return W},qq:function(){return U},tz:function(){return A},O$:function(){return b},yw:function(){return I}});var u=e(39428),c=e(11849),E=e(3182),p=e(25377),P="/pdapi";function W(d,i){return g.apply(this,arguments)}function g(){return g=(0,E.Z)((0,u.Z)().mark(function d(i,v){return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.WY)("".concat(P,"/floors"),(0,c.Z)({method:"GET",params:(0,c.Z)({},i)},v||{})));case 1:case"end":return _.stop()}},d)})),g.apply(this,arguments)}function U(d,i){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,u.Z)().mark(function d(i,v){return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.WY)("".concat(P,"/floors"),(0,c.Z)({method:"POST",data:i},v||{})));case 1:case"end":return _.stop()}},d)})),O.apply(this,arguments)}function A(d,i){return M.apply(this,arguments)}function M(){return M=(0,E.Z)((0,u.Z)().mark(function d(i,v){return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,p.WY)("".concat(P,"/floors"),(0,c.Z)({method:"PUT",data:i},v||{})));case 1:case"end":return _.stop()}},d)})),M.apply(this,arguments)}function b(d,i){return T.apply(this,arguments)}function T(){return T=(0,E.Z)((0,u.Z)().mark(function d(i,v){return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return console.log(i),_.abrupt("return",(0,p.WY)("".concat(P,"/floors"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},i)},v||{})));case 2:case"end":return _.stop()}},d)})),T.apply(this,arguments)}function I(d){return j.apply(this,arguments)}function j(){return j=(0,E.Z)((0,u.Z)().mark(function d(i){return(0,u.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,p.WY)("".concat(P,"/floors/selector"),(0,c.Z)({method:"GET"},(i==null?void 0:i.data)||[])));case 1:case"end":return D.stop()}},d)})),j.apply(this,arguments)}},65308:function(S,C,e){"use strict";e.d(C,{wh:function(){return W},bM:function(){return U},JQ:function(){return A},BT:function(){return b},fK:function(){return I},eA:function(){return d},Li:function(){return v},He:function(){return _},kZ:function(){return G}});var u=e(39428),c=e(11849),E=e(3182),p=e(25377),P="/pdapi";function W(n,t){return g.apply(this,arguments)}function g(){return g=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"GET",params:(0,c.Z)({},t)},f||{})));case 1:case"end":return r.stop()}},n)})),g.apply(this,arguments)}function U(n,t){return O.apply(this,arguments)}function O(){return O=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"POST",data:t},f||{})));case 1:case"end":return r.stop()}},n)})),O.apply(this,arguments)}function A(n,t){return M.apply(this,arguments)}function M(){return M=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"PUT",data:t},f||{})));case 1:case"end":return r.stop()}},n)})),M.apply(this,arguments)}function b(n,t){return T.apply(this,arguments)}function T(){return T=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(t),r.abrupt("return",(0,p.WY)("".concat(P,"/PolicePowerTypes"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},t)},f||{})));case 2:case"end":return r.stop()}},n)})),T.apply(this,arguments)}function I(n,t){return j.apply(this,arguments)}function j(){return j=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"GET",params:(0,c.Z)({},t)},f||{})));case 1:case"end":return r.stop()}},n)})),j.apply(this,arguments)}function d(n,t){return i.apply(this,arguments)}function i(){return i=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"POST",data:t},f||{})));case 1:case"end":return r.stop()}},n)})),i.apply(this,arguments)}function v(n,t){return D.apply(this,arguments)}function D(){return D=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,p.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"PUT",data:t},f||{})));case 1:case"end":return r.stop()}},n)})),D.apply(this,arguments)}function _(n,t){return B.apply(this,arguments)}function B(){return B=(0,E.Z)((0,u.Z)().mark(function n(t,f){return(0,u.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(t),r.abrupt("return",(0,p.WY)("".concat(P,"/policePowerDeployments"),(0,c.Z)({method:"DELETE",params:(0,c.Z)({},t)},f||{})));case 2:case"end":return r.stop()}},n)})),B.apply(this,arguments)}function G(n){return Z.apply(this,arguments)}function Z(){return Z=(0,E.Z)((0,u.Z)().mark(function n(t){return(0,u.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,p.WY)("".concat(P,"/policePowerTypes/selector"),(0,c.Z)({method:"GET"},(t==null?void 0:t.data)||[])));case 1:case"end":return m.stop()}},n)})),Z.apply(this,arguments)}}}]);
